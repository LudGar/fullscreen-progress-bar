/* =========================
   1) Theme Variables
   ========================= */
:root {
  --bg: #0b0f14;
  --bg-2: #0e131a;
  --grid: rgba(255,255,255,0.03);
  --scan: rgba(255,255,255,0.05);
  --accent: #00e0ff;           /* default cyan */
  --accent-soft: rgba(0, 224, 255, 0.2);
  --text: #dbe7ff;
  --muted: #8ea0b8;
  --muted-2: #a7b6cc;
  --shadow: 0 0 40px rgba(0, 224, 255, 0.1), 0 0 12px rgba(0, 224, 255, 0.2);
  --radius: 18px;

  --field-bg: rgba(255,255,255,0.06);
  --field-border: rgba(255,255,255,0.14);
  --field-bg-focus: rgba(255,255,255,0.10);
}

[data-theme="magenta"] { --accent:#ff2bd6; --accent-soft: rgba(255, 43, 214, 0.18); }
[data-theme="amber"]   { --accent:#ff9f1c; --accent-soft: rgba(255,159,28,0.18); }
[data-theme="lime"]    { --accent:#a6ff00; --accent-soft: rgba(166,255,0,0.2);  }
[data-theme="violet"]  { --accent:#7b61ff; --accent-soft: rgba(123,97,255,0.2); }

/* =========================
   2) Base Page + Background
   ========================= */
html, body { height: 100%; }

body {
  margin: 0;
  color: var(--text);
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  background:
    radial-gradient(1200px 800px at 70% -10%, rgba(0, 224, 255, 0.07), transparent 60%),
    radial-gradient(1000px 600px at 20% 120%, rgba(99, 179, 237, 0.05), transparent 60%),
    linear-gradient(180deg, var(--bg), var(--bg-2));
  overflow: hidden;
}

/* blueprint/circuit grid overlay */
.grid-overlay {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  background-image:
    linear-gradient(var(--scan), var(--scan)),
    repeating-linear-gradient(0deg, transparent 0 29px, var(--grid) 29px 30px),
    repeating-linear-gradient(90deg, transparent 0 29px, var(--grid) 29px 30px);
  background-size: 100% 100%, 100% 100%, 100% 100%;
  -webkit-mask-image: radial-gradient(100% 100% at 50% 50%, rgba(0,0,0,0.9), rgba(0,0,0,0.3));
          mask-image: radial-gradient(100% 100% at 50% 50%, rgba(0,0,0,0.9), rgba(0,0,0,0.3));
  animation: scan 6s linear infinite;
}
@keyframes scan {
  0%   { background-position: 0 -20vh, 0 0, 0 0; }
  100% { background-position: 0 80vh,  0 0, 0 0; }
}

/* =========================
   3) Layout Shell
   ========================= */
.hud {
  position: fixed;
  inset: 4vmin;
  display: grid;
  place-items: center;
  z-index: 1;
}

.panel {
  width: min(1200px, 92vw);
  padding: clamp(18px, 3vmin, 28px);
  background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: var(--radius);
  box-shadow: 0 10px 40px rgba(0,0,0,0.35);
  backdrop-filter: blur(6px) saturate(120%);
}

.panel-header {
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  margin-bottom:14px;
  letter-spacing: .08em;
  text-transform: uppercase;
  font-size: clamp(12px, 1.5vmin, 14px);
  color: var(--muted);
}

.pill {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  border: 1px solid rgba(255,255,255,0.12);
  background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
  border-radius: 999px;
  padding: 6px 10px;
}
.accent-dot {
  width: 8px;
  height: 8px;
  border-radius: 999px;
  background: var(--accent);
  box-shadow: var(--shadow);
}

/* =========================
   4) Progress Bar + Readout
   ========================= */
.bar-wrap {
  position: relative;
  height: clamp(16px, 2.6vmin, 22px);
  border-radius: 999px;
  overflow: clip;
  outline: 1px solid rgba(255,255,255,0.12);
  background:
    linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0)),
    repeating-linear-gradient(90deg, rgba(255,255,255,0.06) 0 2px, transparent 2px 8px);
}

.bar-bg {
  position:absolute;
  inset:0;
  opacity:.25;
  background: linear-gradient(90deg, var(--accent-soft), transparent 45%);
  filter: blur(12px);
}

.bar-fill {
  position:absolute;
  inset:0;
  width:0%;
  background: linear-gradient(90deg, var(--accent), #fff 120%);
  box-shadow: 0 0 10px var(--accent), 0 0 30px var(--accent);
  filter: saturate(120%);
}

.bar-glow {
  position:absolute;
  inset:0;
  width:0%;
  background:
    radial-gradient(40px 40px at 100% 50%, rgba(255,255,255,0.35), transparent 60%),
    linear-gradient(90deg, var(--accent-soft), transparent 60%);
  mix-blend-mode: screen;
  opacity: .9;
}

.marker {
  position:absolute;
  top:50%;
  translate:-50% -50%;
  width: clamp(10px,1.5vmin,12px);
  height: clamp(22px,3vmin,26px);
  border-radius:4px;
  border:1px solid rgba(255,255,255,0.3);
  background: linear-gradient(180deg, rgba(255,255,255,0.18), rgba(255,255,255,0.05));
  box-shadow: var(--shadow);
  display:grid;
  place-items:center;
}
.marker::after {
  content: "";
  width:6px;
  height:6px;
  border-radius:999px;
  background: var(--accent);
  box-shadow: 0 0 12px var(--accent);
}

.readout {
  display:flex;
  align-items:baseline;
  justify-content:space-between;
  gap:14px;
  margin-top:12px;
  font-feature-settings: "tnum" 1, "ss01" 1;
}

.percent {
  font-size: clamp(20px, 4vmin, 42px);
  letter-spacing: .02em;
  color: var(--text);
  text-shadow: 0 0 20px rgba(255,255,255,0.06);
}
.hint {
  color: var(--muted);
